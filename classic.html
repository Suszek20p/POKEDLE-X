<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css" />
    <title>POKEDLE X</title>
  </head>
  <body>
    <div class="logo">
      <b><a href="main.html"> POKEDLE X </a></b>
    </div>
    <img
      class="light_theme_wallpaper"
      src="light_theme.png"
      alt="light theme wallpaper"
    />

    <div class="div_chose_pokemon">
      <input
        type="button"
        value="CHECK YOUR LUCK"
        id="pokemon"
        class="chose_pokemon"
      />
    </div>

    <div class="no_luck">TU MAJĄ BYĆ NIE ODGADNIĘTE POKEMONY</div>

    <script>
      let Chosen_pokemon = prompt("CHOSE POKEMON");

      const pokemon = document.querySelector("[id=pokemon]");
      pokemon.addEventListener("click", fetchAllPokemon);

      let Random_pokemon;

      function fetchAllPokemon() {
        fetch("https://pokeapi.co/api/v2/pokemon?limit=898")
          .then((response) => response.json())
          .then(
            (allpokemon) =>
              (Random_pokemon =
                allpokemon.results[Math.floor(Math.random() * 899)])
          )
          .then(
            fetch(
              "https://pokeapi.co/api/v2/pokemon/" +
                Math.floor(Math.random() * 2 + 1)
            )
          )
          .then((data) => {
            if (data.name == Chosen_pokemon) {
              console.log("zgadłeś pokemona " + data.name);
            } else {
              console.log("nie zgadłeś pokemona " + data.name);
            }
          });
      }
    </script>
  </body>
</html>
